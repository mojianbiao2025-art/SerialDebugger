# Android版本测试清单

## 修复前的问题
- [ ] Tab标签文字显示为白色，看不清楚
- [ ] 切换语言后，Tab标签文字没有更新
- [ ] 界面内容显示不全，被截断

## 修复后应该达到的效果

### ✅ Tab标签显示测试

#### 测试1：初始显示
- [ ] 启动应用后，能看到"主界面"和"波形图"两个Tab标签
- [ ] Tab标签文字为**黑色**，清晰可见
- [ ] 字体大小适中（18pt），不会太小
- [ ] 当前选中的Tab有蓝色边框高亮

#### 测试2：Tab切换
- [ ] 点击"波形图"标签，能正常切换
- [ ] 切换后，"波形图"标签显示为选中状态（蓝色边框）
- [ ] "主界面"标签显示为未选中状态（灰色背景）
- [ ] 两个标签的文字始终保持黑色

#### 测试3：不同屏幕方向
- [ ] 竖屏模式下，Tab标签显示正常
- [ ] 横屏模式下，Tab标签显示正常
- [ ] 旋转屏幕时，Tab标签文字颜色不变

### ✅ 语言切换测试

#### 测试4：切换到英文
1. [ ] 点击工具栏的"☰ Menu"按钮
2. [ ] 选择"🌐 Language" -> "English"
3. [ ] **立即**观察到以下变化：
   - [ ] Tab标签从"主界面/波形图"变为"Main/Plotter"
   - [ ] 所有按钮文字变为英文（Open Port, Send, Clear等）
   - [ ] 状态栏显示"Status: Disconnected"
   - [ ] 组框标题变为英文（Port Settings, Receive, Send）

#### 测试5：切换到日语
1. [ ] 打开菜单，选择"Language" -> "日本語"
2. [ ] 检查Tab标签是否显示日文
3. [ ] 检查所有UI元素是否更新为日文

#### 测试6：切换到德语
1. [ ] 打开菜单，选择"Language" -> "Deutsch"
2. [ ] 检查Tab标签是否显示德文
3. [ ] 检查所有UI元素是否更新为德文

#### 测试7：切换到法语
1. [ ] 打开菜单，选择"Language" -> "Français"
2. [ ] 检查Tab标签是否显示法文
3. [ ] 检查所有UI元素是否更新为法文

#### 测试8：返回中文
1. [ ] 打开菜单，选择"Language" -> "中文"
2. [ ] 检查所有内容是否恢复为中文
3. [ ] 检查Tab标签是否显示"主界面/波形图"

### ✅ 界面显示完整性测试

#### 测试9：滚动功能
- [ ] 在小屏幕设备上，能看到滚动条
- [ ] 可以上下滚动查看所有内容
- [ ] 可以左右滚动（如果内容宽度超过屏幕）
- [ ] 滚动流畅，没有卡顿

#### 测试10：所有控件可见
- [ ] 串口设置区域完整显示
- [ ] 接收区域完整显示
- [ ] 发送区域完整显示
- [ ] 所有按钮都可以点击
- [ ] 所有下拉框都可以展开

### ✅ 综合功能测试

#### 测试11：语言切换不影响功能
1. [ ] 切换到英文
2. [ ] 打开串口（如果有可用设备）
3. [ ] 发送数据
4. [ ] 接收数据
5. [ ] 切换到中文
6. [ ] 串口保持连接状态
7. [ ] 数据收发功能正常

#### 测试12：Tab切换不影响语言
1. [ ] 切换到英文
2. [ ] 切换到"Plotter"标签
3. [ ] 检查"Plotter"标签文字是否为英文
4. [ ] 切换回"Main"标签
5. [ ] 检查所有文字是否仍为英文

#### 测试13：多次切换稳定性
1. [ ] 连续切换语言5次（中->英->日->德->法->中）
2. [ ] 每次切换后检查Tab标签是否正确更新
3. [ ] 检查是否有内存泄漏或崩溃
4. [ ] 检查UI响应是否流畅

## 不同设备测试

### 小屏幕设备（5-6英寸）
- [ ] Tab标签文字清晰可见
- [ ] 滚动条正常工作
- [ ] 所有按钮可以点击
- [ ] 语言切换正常

### 中等屏幕设备（6-7英寸）
- [ ] Tab标签文字清晰可见
- [ ] 界面布局合理
- [ ] 语言切换正常

### 大屏幕设备（7英寸以上/平板）
- [ ] Tab标签文字清晰可见
- [ ] 界面充分利用屏幕空间
- [ ] 语言切换正常

## 性能测试

### 测试14：启动速度
- [ ] 应用启动时间 < 3秒
- [ ] Tab标签立即显示
- [ ] 默认语言（中文）正确加载

### 测试15：语言切换响应
- [ ] 点击语言选项后，UI立即更新（< 0.5秒）
- [ ] Tab标签文字立即变化
- [ ] 没有明显的延迟或闪烁

### 测试16：内存使用
- [ ] 多次切换语言后，内存使用稳定
- [ ] 没有内存泄漏
- [ ] 应用运行流畅

## 边界情况测试

### 测试17：快速切换
- [ ] 快速连续点击不同语言选项
- [ ] 应用不会崩溃
- [ ] 最终显示最后选择的语言

### 测试18：旋转屏幕
- [ ] 切换语言后旋转屏幕
- [ ] 语言设置保持不变
- [ ] Tab标签文字保持正确的语言

### 测试19：后台恢复
- [ ] 切换到英文
- [ ] 按Home键将应用切到后台
- [ ] 重新打开应用
- [ ] 检查是否仍显示英文

## 视觉检查

### 测试20：Tab标签外观
- [ ] 文字颜色：纯黑色 (#000000)
- [ ] 字体大小：18pt
- [ ] 字体粗细：粗体
- [ ] 背景：浅灰色渐变
- [ ] 选中状态：白色背景 + 蓝色边框
- [ ] 未选中状态：灰色背景 + 灰色边框

### 测试21：整体UI一致性
- [ ] 所有文字使用相同的字体系列
- [ ] 颜色方案一致
- [ ] 按钮样式统一
- [ ] 间距和对齐合理

## 问题排查

### 如果Tab标签仍然看不清：

1. **检查编译版本**
   ```bash
   # 确认使用最新代码重新编译
   git pull
   # 清理旧的构建文件
   rm -rf build-android
   # 重新构建
   ```

2. **检查设备设置**
   - 设备系统主题：浅色/深色
   - 字体大小设置
   - 显示缩放比例

3. **查看日志**
   ```bash
   adb logcat | grep SerialDebugger
   ```

### 如果语言切换不生效：

1. **检查翻译文件**
   ```bash
   # 确认APK中包含翻译文件
   unzip -l app-debug.apk | grep lang_
   ```

2. **检查文件编码**
   - 所有 .ini 文件应为 UTF-8 编码
   - 没有BOM标记

3. **添加调试输出**
   - 在switchLanguage函数中添加qDebug输出
   - 检查currentLanguage变量的值

## 测试通过标准

所有测试项目都应该打勾（✓），特别是：

### 关键测试（必须通过）
- ✅ Tab标签文字为黑色，清晰可见
- ✅ 切换语言后，Tab标签立即更新
- ✅ 所有UI元素都能正确翻译
- ✅ 界面内容完整显示，可以滚动

### 次要测试（建议通过）
- ✅ 性能流畅，无卡顿
- ✅ 多次切换稳定
- ✅ 不同设备表现一致

## 测试报告模板

```
测试日期：____________________
测试设备：____________________
Android版本：_________________
屏幕尺寸：___________________

Tab标签显示：
□ 通过  □ 失败  备注：_______________________

语言切换功能：
□ 通过  □ 失败  备注：_______________________

界面完整性：
□ 通过  □ 失败  备注：_______________________

综合评价：
□ 完全通过  □ 部分通过  □ 未通过

问题描述：
_____________________________________________
_____________________________________________

建议改进：
_____________________________________________
_____________________________________________
```

## 下一步

测试通过后：
1. [ ] 更新版本号
2. [ ] 生成发布版APK
3. [ ] 准备应用商店描述
4. [ ] 截图和演示视频
5. [ ] 发布到应用商店
